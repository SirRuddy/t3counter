var lavitto_counter={init:function(){document.querySelectorAll('.ce-counter').forEach(function(e){var t=parseInt(e.getAttribute('data-counter-lazy-start'));if(1===t)window.addEventListener('resize',checkViewport),window.addEventListener('scroll',checkViewport),checkViewport();else lavitto_counter.startCounterWithDelay(e)})},startCounterWithDelay:function(e){if(!e.classList.contains('counter-started')){var t=parseFloat(e.getAttribute('data-counter-delay'))*1e3;setTimeout(function(){if('fadein'===e.getAttribute('data-counter-start-effect')){var t=parseInt(e.getAttribute('data-counter-start-effect-duration'));e.style.opacity='1',e.style.transition='opacity '+t+'ms'}lavitto_counter.startCounter(e)},t)}},startCounter:function(e){e.classList.add('counter-started');var t=parseInt(e.getAttribute('data-counter-start')),n=parseInt(e.getAttribute('data-counter-end')),o=parseFloat(e.getAttribute('data-counter-duration'))*1e3,a=e.getAttribute('data-counter-easing'),r=e.querySelector('.number'),i=t,s=null;function c(u){null===s&&(s=u);var l=u-s,p=Math.ceil(l/o*(n-t)+t);r.textContent=lavitto_counter.numberFormat(p),l<o?requestAnimationFrame(c):r.textContent=lavitto_counter.numberFormat(n)}requestAnimationFrame(c)},numberFormat:function(e){return e=(e+'').replace(/[^0-9+\-Ee.]/g,'');var t=0,n='.',o='\'',a=!isFinite(+e)?0:+e,r=!isFinite(+t)?0:Math.abs(t),i='undefined'===typeof o?',':o,s='undefined'===typeof n?'.':n,c='';function u(e,t){return-1===(''+e).indexOf('e')?+(Math.round(e+'e+'+t)+'e-'+t):+(Math.round(+e+'e'+('+'+t)+(+e+t))+'e-'+t).toFixed(t)}c=(r?u(a,r).toString():''+Math.round(a)).split('.');return c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(c[1]||'').length<r&&(c[1]=c[1]||'',c[1]+=Array(r-c[1].length+1).join('0')),c.join(s)},isInViewport:function(e){var t=e.offsetTop,n=t+e.offsetHeight,o=window.pageYOffset||document.documentElement.scrollTop,a=o+window.innerHeight;return n>=o&&t<=a}};function checkViewport(){document.querySelectorAll('.ce-counter').forEach(function(e){lavitto_counter.isInViewport(e)&&lavitto_counter.startCounterWithDelay(e)})}document.addEventListener('DOMContentLoaded',function(){lavitto_counter.init()});
